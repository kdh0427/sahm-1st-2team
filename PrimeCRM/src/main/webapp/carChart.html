<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<title>PrimeCRM</title>
	<link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
	<link href="css/styles.css" rel="stylesheet" />
	<script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
</head>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<body class="sb-nav-fixed">
	<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
		<button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!">
			<i class="fas fa-bars"></i>
		</button>
		<a class="navbar-brand ps-3" href="main.html">
		 <img src="/PrimeCRM/assets/img/photo/logo.png" alt="PrimeCRM Logo" style="max-width: 150px; height: auto;"></a>
	</nav>
	<div id="layoutSidenav">
		<div id="layoutSidenav_nav">
			<nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
				<div class="sb-sidenav-menu">
					<div class="nav">

						<!-- 메뉴 툴바 -->
						<div class="sb-sidenav-menu-heading">메뉴</div>

						<a class="nav-link" href="main.html">
							<div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
							대쉬보드
						</a>

						<!-- 고객관리 -->
						<a class="nav-link collapsed" href="#" data-bs-toggle="collapse"
							data-bs-target="#collapseLayouts" aria-expanded="false" aria-controls="collapseLayouts">
							<div class="sb-nav-link-icon"><i class="fas fa-columns"></i></div>
							고객 관리
							<div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
						</a>
						<div class="collapse" id="collapseLayouts" aria-labelledby="headingOne"
							data-bs-parent="#sidenavAccordion">
							<nav class="sb-sidenav-menu-nested nav">
								<a class="nav-link" href="custSearch.html">고객 조회</a>
								<a class="nav-link" href="custRegister.html">고객 등록</a>
							</nav>
						</div>

						<!-- 영업관리 -->
						<a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseSales"
							aria-expanded="false" aria-controls="collapseSales">
							<div class="sb-nav-link-icon"><i class="fas fa-book-open"></i></div>
							영업 관리
							<div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
						</a>
						<div class="collapse" id="collapseSales" aria-labelledby="headingSales"
							data-bs-parent="#sidenavAccordion">
							<nav class="sb-sidenav-menu-nested nav accordion" id="sidenavAccordionSales">
								<a class="nav-link" href="complain.html">문의 내역</a>
								<a class="nav-link" href="salesHistory.html">영업 내역</a>
							</nav>
						</div>

						<!-- 통계 -->
						<a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseStats"
							aria-expanded="false" aria-controls="collapseStats">
							<div class="sb-nav-link-icon"><i class="fas fa-chart-area"></i></div>
							통계
							<div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
						</a>
						<div class="collapse show" id="collapseStats" aria-labelledby="headingStats"
							data-bs-parent="#sidenavAccordion">
							<nav class="sb-sidenav-menu-nested nav accordion" id="sidenavAccordionStats">
								<a class="nav-link active" href="carChart.html">자동차 통계</a>
								<a class="nav-link" href="empChart.html">직원 통계</a>
							</nav>
						</div>

						<!-- 설정 -->
						<a class="nav-link collapsed" href="#" data-bs-toggle="collapse"
							data-bs-target="#collapseSettings" aria-expanded="false" aria-controls="collapseSettings">
							<div class="sb-nav-link-icon"><i class="fas fa-cogs"></i></div>
							설정
							<div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
						</a>
						<div class="collapse" id="collapseSettings" aria-labelledby="headingSettings"
							data-bs-parent="#sidenavAccordion">
							<nav class="sb-sidenav-menu-nested nav accordion" id="sidenavAccordionSettings">
								<a class="nav-link" href="user.html">정보 변경</a>
								<a class="nav-link" href="login.html">로그 아웃</a>
							</nav>
						</div>
					</div>
				</div>
				<div class="sb-sidenav-footer">
					<div class="small" id="uemail"></div>
				</div>
			</nav>
		</div>
		<div id="layoutSidenav_content">
			<main>
				<div class="container-fluid px-4">
					<h1 class="mt-4 text-center">자동차 통계</h1>
					<ol class="breadcrumb mb-4">
						<div class="ms-auto d-flex align-items-center">
							<!-- 시작 날짜 안내문구 -->
							<label for="startDateInput" class="me-2 mb-0">시작 날짜:</label>
							<!-- 기간 선택 버튼 -->
							<!-- 시작 날짜 입력란 -->
							<input type="month" id="startDateInput" class="form-control ms-2"
								value="2025-01"
								style="flex-grow: 0; flex-shrink: 0; width: auto;" />
							<!-- 검색 버튼 -->
							<button class="btn btn-primary ms-2" onclick="updateData()">검색</button>
						</div>
					</ol>
					<div class="row">
						<!-- 총 판매량 -->
						<div class="col-lg-4 col-md-6">
							<div class="card mb-4">
								<div class="card-header">
									<i class="fas fa-dollar-sign me-1"></i> 총 판매량
								</div>
								<div class="card-body">
									<h2 id="totalSalesValue"></h2>
								</div>
							</div>
						</div>

						<!-- 지점별 판매량 -->
						<div class="col-lg-4 col-md-6">
							<div class="card mb-4">
								<div class="card-header">
									<i class="fas fa-chart-line me-1"></i> 지점별 판매량
								</div>
								<div class="card-body">
									<canvas id="myBarChart"></canvas>
								</div>
							</div>
						</div>

						<!-- 차량 모델별 판매 비율 -->
						<div class="col-lg-4 col-md-6">
							<div class="card mb-4">
								<div class="card-header">
									<i class="fas fa-chart-pie me-1"></i> 차량 모델별 판매 비율
								</div>
								<div class="card-body">
									<canvas id="myPieChart" width="100%" height="50px"></canvas>
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<!-- 상위 판매 모델 -->
						<div class="col-xl-6">
							<div class="card mb-4">
								<div class="card-header">
									<i class="fas fa-table me-1"></i> 상위 판매 모델
								</div>
								<div class="card-body">
									<table class="table table-striped">
										<thead>
											<tr>
												<th>모델명</th>
												<th>판매량</th>
											</tr>
										</thead>
										<tbody id="salesTableBody">
											<!-- 여기에 데이터가 동적으로 추가됨 -->
										</tbody>
									</table>
								</div>
							</div>
						</div>

						<!-- 매출 성장률 -->
						<div class="col-xl-6">
							<div class="card mb-4">
								<div class="card-header">
									<i class="fas fa-chart-line me-1"></i> 매출 성장률
								</div>
								<div class="card-body">
									<canvas id="myAreaChart" width="100%" height="250px"></canvas>
								</div>
							</div>
						</div>
					</div>

					<!-- 연간 목표 달성도 -->
					<div class="row">
						<div class="col-xl-12">
							<div class="card">
								<div class="card-header">
									<i class="fas fa-tachometer-alt"></i> 연간 목표 달성도
									<button type="button" class="btn btn-primary ms-2" id="changepurpose" onclick="changePurpose()" style="display: none; float: right;">변경</button>
								</div>
								<div class="card-body">
									<div class="progress">
										<div class="progress-bar" id="totaltarget" role="progressbar"
											style="width: 67%" aria-valuenow="67" aria-valuemin="0"
											aria-valuemax="100">67%</div>
									</div>
									<p id="purpose"></p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</main>
		</div>
	</div>
	<script src="js/core.js"></script>
	<script src="js/jquery-3.7.1.min.js"></script>
	<script src="js/carChart.js"></script>
	<script src="js/scripts.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
	<script>
		document.getElementById('startDateInput').addEventListener('change',
				function() {
					let selectedMonth = this.value; // yyyy-MM 형식으로 선택된 값
				});
	</script>
</body>

</html>